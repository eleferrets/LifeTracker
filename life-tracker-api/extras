CREATE TABLE posts (
  id          SERIAL PRIMARY KEY,
  caption    VARCHAR(140) NOT NULL,
  image_url      TEXT NOT NULL,
  user_id INTEGER NOT NULL,
  created_at  TIMESTAMP NOT NULL DEFAULT NOW(),
  updated_at   TIMESTAMP NOT NULL DEFAULT NOW(),
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
)

CREATE TABLE ratings (
  -- Many to many relationship
  rating          INTEGER NOT NULL CHECK (rating > 0 AND rating <= 10),
  post_id    INTEGER NOT NULL REFERENCES posts(id) ON DELETE CASCADE,
  user_id    INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  created_at  TIMESTAMP NOT NULL DEFAULT NOW(),
  -- Primary keys must be unique, so we combine them
  PRIMARY KEY (post_id, user_id)
);

-- Best Practice
Routes are plural, but models are singular
/* Middleware runs in the middle of a request */
res.status is sending a response back - usually through json